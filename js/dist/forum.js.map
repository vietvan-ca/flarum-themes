{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@vietvan-ca/flarum-themes/webpack/bootstrap","webpack://@vietvan-ca/flarum-themes/webpack/runtime/compat get default export","webpack://@vietvan-ca/flarum-themes/webpack/runtime/define property getters","webpack://@vietvan-ca/flarum-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/app']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/extend']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/DiscussionListItem']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/DiscussionList']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/HeaderPrimary']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/HeaderSecondary']\"","webpack://@vietvan-ca/flarum-themes/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@vietvan-ca/flarum-themes/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/Component']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/components/Link']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@vietvan-ca/flarum-themes/./src/forum/components/TopicColumn.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/ReplyColumn.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/ViewColumn.js","webpack://@vietvan-ca/flarum-themes/./src/forum/utils/discussionHelpers.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/ActivityColumn.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/LastUsersColumn.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/CustomDiscussionRow.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/DiscussionListHeader.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['forum/components/Search']\"","webpack://@vietvan-ca/flarum-themes/./src/forum/components/HeroSection.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/components/Button']\"","webpack://@vietvan-ca/flarum-themes/./src/forum/components/BackButton.js","webpack://@vietvan-ca/flarum-themes/./src/forum/components/Logo.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@vietvan-ca/flarum-themes/./src/forum/components/CustomDiscussionTabNavigation.js","webpack://@vietvan-ca/flarum-themes/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/SettingsPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionListItem'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/HeaderPrimary'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/HeaderSecondary'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport icon from 'flarum/common/helpers/icon';\n\n/**\n * Renders the topic column with title, tags, and excerpt\n */\nexport default class TopicColumn extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const firstPost = discussion.firstPost();\n    const tags = discussion.tags() || [];\n    \n    // Get sticky and locked status\n    const isSticky = discussion.isSticky();\n    const isLocked = discussion.isLocked();\n    \n    return m('div.discussion-topic', [\n      m('div.discussion-badges', [\n        // Display sticky and locked badges if applicable\n        isSticky ? m('span.Badge.Badge--sticky', [\n          icon('fas fa-thumbtack')\n        ]) : null,\n        isLocked ? m('span.Badge.Badge--locked', [\n          icon('fas fa-lock'),\n        ]) : null,\n      ]),\n      m('div.discussion-title', [\n        m(Link, { \n          href: app.route.discussion(discussion) \n        }, discussion.title())\n      ]),\n      m('div.discussion-tags', [\n        tags.map(tag => m('span.discussion-tag', { \n          className: tag.color() ? 'colored' : '',\n          style: tag.color() ? { backgroundColor: tag.color() } : {}\n        }, tag.name())),\n      ]),\n      app.forum.attribute('custom-discussion-list.enable_excerpts') !== false ? \n        m('div.discussion-excerpt', firstPost?.contentPlain() || '') : null\n    ]);\n  }\n}","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\n/**\n * Renders the reply count column\n */\nexport default class ReplyColumn extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const replyCount = discussion.replyCount() ?? 0;\n\n    return m('div.discussion-reply', [\n      m('span', replyCount),\n    ]);\n  }\n}\n","import Component from 'flarum/common/Component';\n\n/**\n * Renders the view count column\n */\nexport default class ViewColumn extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const viewCount = discussion.attribute('views') || 0;\n    \n    return m('div.discussion-view', [\n      m('span', viewCount)\n    ]);\n  }\n}","/**\n * Helper function to calculate time since in days\n */\nexport function getTimeSince(date) {\n  if (!date) return '-';\n\n  // Convert to Date object if string\n  const dateObj = typeof date === 'string' ? new Date(date) : date;\n\n  // Check if date is valid\n  if (isNaN(dateObj.getTime())) return '-';\n\n  const now = new Date();\n  const diffTime = now - dateObj;\n\n  // If time is in the future, return placeholder\n  if (diffTime < 0) return '-';\n\n  // Calculate time differences\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n  const diffHours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const diffMinutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));\n\n  // Return only the largest time unit\n  if (diffDays >= 30) {\n    // More than a month, show months\n    const diffMonths = Math.floor(diffDays / 30);\n    return diffMonths + 'mo';\n  }\n\n  if (diffDays > 0) {\n    return diffDays + 'd';\n  }\n\n  if (diffHours > 0) {\n    return diffHours + 'h';\n  }\n\n  if (diffMinutes > 0) {\n    return diffMinutes + 'm';\n  }\n\n  // If less than a minute\n  return 'now';\n}\n\n/**\n * Helper function to get user initials\n */\nexport function getInitials(username) {\n  if (!username) return '';\n  return username.charAt(0).toUpperCase();\n}\n\n/**\n * Helper function to get color class based on index\n */\nexport function getColorClass(index) {\n  const colorClasses = ['color-1', 'color-2', 'color-3', 'color-4', 'color-5'];\n  return colorClasses[index % colorClasses.length];\n}\n\n/**\n * Renders user avatar with either image or initials\n */\nexport function renderUserAvatar(user, index) {\n  if (!user) return null;\n\n  const userName = user.username || '';\n  const avatarUrl = user.avatar_url;\n\n  if (avatarUrl) {\n    // If avatar URL exists, render the image\n    return m(\n      'span.user-avatar',\n      { title: userName },\n      m('img.avatar-image', {\n        src: avatarUrl,\n        alt: userName,\n      })\n    );\n  } else {\n    // If no avatar URL, show initials with color background\n    return m(\n      'span.user-avatar',\n      { title: userName },\n      m(\n        'span.user-initial',\n        {\n          className: getColorClass(index),\n        },\n        getInitials(userName)\n      )\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport { getTimeSince } from '../utils/discussionHelpers';\n\n/**\n * Renders the activity column with time since last post and active users\n */\nexport default class ActivityColumn extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const lastPostedAt = discussion.lastPostedAt();\n    const timeSince = lastPostedAt ? getTimeSince(new Date(lastPostedAt)) : '';\n\n    return m('div.discussion-activity', [m('span', timeSince)]);\n  }\n}\n","import Component from 'flarum/common/Component';\nimport { renderUserAvatar } from '../utils/discussionHelpers';\n\n/**\n * Renders the activity column with time since last post and active users\n */\nexport default class LastUsersColumn extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n    const latestPosters = discussion.attribute('latestPosters') || [];\n    \n    return m('div.discussion-users', [\n      m('div.active-users', latestPosters.slice(0, 5).map((user, i) => \n        renderUserAvatar(user, i)\n      ))\n    ]);\n  }\n}","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport TopicColumn from './TopicColumn';\nimport ReplyColumn from './ReplyColumn';\nimport ViewColumn from './ViewColumn';\nimport ActivityColumn from './ActivityColumn';\nimport LastUsersColumn from './LastUsersColumn';\n\n/**\n * The main row component for discussions in the discussion list\n */\nexport default class CustomDiscussionRow extends Component {\n  view() {\n    const discussion = this.attrs.discussion;\n\n    return m(Link, {\n      className: 'discussion-row',\n      href: app.route.discussion(discussion),\n    }, [\n      m(TopicColumn, { discussion }),\n      m(LastUsersColumn, { discussion }),\n      m(ReplyColumn, { discussion }),\n      m(ViewColumn, { discussion }),\n      m(ActivityColumn, { discussion }),\n    ]);\n  }\n}\n","import Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\n\n\n/**\n * Renders the header for the discussion list\n */\n\nexport default class DiscussionListHeader extends Component {\n  view() {\n    return (\n      <li className=\"CustomDiscussionList-header\">\n        <div className=\"DiscussionListItem-info topic\">\n          {app.translator.trans('vietvan-ca-flarum-themes.forum.custom-discussion-header.topic')}\n        </div>\n        <div className=\"DiscussionListItem-info replies\">\n          {app.translator.trans('vietvan-ca-flarum-themes.forum.custom-discussion-header.replies')}\n        </div>\n        <div className=\"DiscussionListItem-info views\">\n          {app.translator.trans('vietvan-ca-flarum-themes.forum.custom-discussion-header.views')}\n        </div>\n        <div className=\"DiscussionListItem-info activity\">\n          {app.translator.trans('vietvan-ca-flarum-themes.forum.custom-discussion-header.activity')}\n        </div>\n      </li>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/Search'];","import Component from 'flarum/common/Component';\nimport Search from 'flarum/forum/components/Search';\n\nexport default class HeroSection extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    const forum = app.forum;\n    // enabled?\n    this.enabled = forum.attribute('vietvan_ca_hero_enabled') === '1';\n    if (!this.enabled) return;\n\n    // Initialize mode from user preferences or cookie\n    if (app.session.user) {\n      // User is logged in - use preferences\n      this.mode = app.session.user.preferences().fofNightMode === 2 ? 'dark' : 'light';\n    } else {\n      // User is not logged in - use cookie\n      const cookieValue = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('flarum_nightmode='))\n        ?.split('=')[1];\n      \n      if (cookieValue === '2') {\n        this.mode = 'dark';\n      } else if (cookieValue === '1') {\n        this.mode = 'light';\n      } else if (cookieValue === '0') {\n        // System preference\n        this.mode = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n      } else {\n        // Default to light if no cookie or invalid value\n        this.mode = 'light';\n      }\n    }\n\n    if (flarum.extensions['fof-nightmode']) {\n      this.setupNightModeListener();\n    }\n\n    // locale-specific text\n    this.locale = app.translator.getLocale() || 'en';\n    const titleKey = `vietvan_ca_hero_title_${this.locale}`;\n    const descKey = `vietvan_ca_hero_description_${this.locale}`;\n\n    this.title = forum.attribute(titleKey) ?? app.translator.trans('vietvan-ca-flarum-themes.forum.hero.title');\n    this.description = forum.attribute(descKey) ?? app.translator.trans('vietvan-ca-flarum-themes.forum.hero.description');\n\n    // show or hide text overlay?\n    this.showText = forum.attribute('vietvan_ca_hero_show_text') === '1';\n\n    // has custom text color?\n    this.hasCustomColor = forum.attribute('vietvan_ca_hero_custom_color_enabled') === '1';\n    this.titleStyle = {};\n    this.descriptionStyle = {};\n\n    if (this.hasCustomColor) {\n      const titleColor = forum.attribute('vietvan_ca_hero_title_color') || '#ffffff';\n      const subtitleColor = forum.attribute('vietvan_ca_hero_subtitle_color') || '#ffffff';\n\n      this.titleStyle = { color: titleColor };\n      this.descriptionStyle = { color: subtitleColor };\n    }\n  }\n\n  setupNightModeListener() {\n    document.addEventListener('fofnightmodechange', (event) => {\n      this.mode = event.detail === 'day' ? 'light' : 'dark';\n      m.redraw();\n    });\n  }\n\n  getBackgroundStyle() {\n    const forum = app.forum;\n    const bgAttr = this.mode === 'dark' ? 'vietvan_ca_hero_background_image_darkUrl' : 'vietvan_ca_hero_background_imageUrl';\n    const bgUrl = forum.attribute(bgAttr);\n\n\n    return bgUrl\n      ? {\n          backgroundImage: `url(${bgUrl})`,\n          backgroundPosition: 'center',\n          backgroundSize: 'cover',\n          backgroundRepeat: 'no-repeat',\n          height: '35vh',\n        }\n      : undefined;\n  }\n\n  view() {\n    // Don't render if not enabled\n    if (!this.enabled) return null;\n\n    // Only show on the homepage (root path)\n    const currentPath = window.location.pathname;\n    if (currentPath !== '/' && currentPath !== '') return null;\n\n    // Get background style dynamically on each render\n    const backgroundStyle = this.getBackgroundStyle();\n\n    return (\n      <div className=\"HeroSection\" style={backgroundStyle}>\n        {this.showText && (\n          <div className=\"container\">\n            <h1 className=\"HeroSection-title\" style={this.titleStyle}>\n              {this.title}\n            </h1>\n            <p className=\"HeroSection-subtitle\" style={this.descriptionStyle}>\n              {this.description}\n            </p>\n          </div>\n        )}\n        <div className=\"container\">\n          <Search state={app.search} />{' '}\n        </div>\n      </div>\n    );\n  }\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","\nimport app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\n\nexport default class BackButton extends Component {\n  view() {\n    const customUrl = app.forum.attribute('vietvan_ca_back_button_custom_url');\n    if (!customUrl || customUrl.trim() === '') {\n      // If no custom URL is set, do not render the button\n      return null;\n    }\n\n    return (\n      <Button\n        className=\"Button Button--link Header-back\"\n        icon=\"fas fa-chevron-left\"\n        onclick={this.goBack.bind(this)}\n        title={app.translator.trans('vietvan-ca-flarum-themes.forum.header.back_button_tooltip')} \n      >\n        {app.translator.trans('vietvan-ca-flarum-themes.forum.header.back_button_text') || 'Back'}\n      </Button>\n    );\n  }\n\n  goBack() {\n    const customUrl = app.forum.attribute('vietvan_ca_back_button_custom_url');\n\n    if (customUrl && customUrl.trim() !== '') {\n      // Check if the custom URL is a valid URL\n      if (customUrl.startsWith('http://') || customUrl.startsWith('https://') || customUrl.startsWith('//')) {\n        window.location.href = customUrl; // For external URLs\n      } else {\n        window.location.href = app.forum.attribute('baseUrl') + customUrl; // For internal URLs\n      }\n    } else if (window.history.length > 1) {\n      window.history.back();\n    } else {\n      window.location.href = '/' // Fallback to home if no history or custom URL is set\n    }\n  }\n}","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\nexport default class Logo extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.mode = app.session.user?.preferences().fofNightMode === 2 ? 'dark' : 'light';\n    \n    if (flarum.extensions['fof-nightmode']) {\n      this.setupNightModeListener();\n    }\n  }\n\n  setupNightModeListener() {\n    document.addEventListener('fofnightmodechange', (event) => {\n      this.mode = event.detail === 'day' ? 'light' : 'dark';\n      m.redraw();\n    });\n  }\n\n  view() {\n    const logoAttr = this.mode === 'dark' ? 'vietvan_ca_logo_darkUrl' : 'vietvan_ca_logoUrl';\n    const logoUrl = app.forum.attribute(logoAttr);\n\n    if (!logoUrl) return null;\n\n    const customUrl = app.forum.attribute('vietvan_ca_back_button_custom_url') || app.route('index');\n\n    return (\n      <a href={customUrl} className=\"Header-logo CustomHeaderLogo\">\n        <img src={logoUrl} alt={'VietVan CA'} />\n      </a>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import Component from 'flarum/common/Component';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport app from 'flarum/forum/app';\n\nexport default class CustomDiscussionTabNavigation extends Component {\n  view() {\n    const currentSort = app.search.params()?.sort;\n\n    const tabs = [\n      { key: 'latest', label: app.translator.trans('core.forum.index_sort.latest_button'), sortParam: '', default: true },\n      { key: 'top', label: app.translator.trans('core.forum.index_sort.top_button'), sortParam: 'top' },\n      { key: 'newest', label: app.translator.trans('core.forum.index_sort.newest_button'), sortParam: 'newest' },\n      { key: 'oldest', label: app.translator.trans('core.forum.index_sort.oldest_button'), sortParam: 'oldest' },\n    ];\n\n    return (\n      <div className=\"CustomDiscussionTabNavigation\">\n        {tabs.map((tab) => {\n          let isActive = false;\n          if (tab.routeName) {\n            isActive = app.current.matches(tab.routeName);\n          } else if (tab.isFilter) {\n            isActive = app.search.params.q && app.search.params.q.includes(tab.filterParam);\n          } else {\n            isActive = currentSort === tab.sortParam || (!currentSort && tab.default);\n          }\n\n          return (\n            <LinkButton className={`SortItem Button Button--link ${isActive ? 'active' : ''}`} onclick={() => this.navigateTo(tab)}>\n              {tab.label}\n            </LinkButton>\n          );\n        })}\n      </div>\n    );\n  }\n\n  navigateTo(tab) {\n    // 1. Get the current URL path (e.g., /t/general?sort=newest)\n    const currentPath = m.route.get();\n\n    // 2. Remove any existing query parameters by splitting the string at the '?'\n    const basePath = currentPath.split('?')[0]; // Result: /t/general\n\n    // 3. Build the new URL path string\n    let newPath = basePath;\n    if (!tab.default) {\n      // Add the sort parameter if this tab is not the default one\n      newPath += '?sort=' + tab.sortParam;\n    }\n\n    // 4. Use m.route.set() to navigate to the new URL without a full page reload\n    m.route.set(newPath);\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SettingsPage from 'flarum/forum/components/SettingsPage';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport DiscussionList from 'flarum/forum/components/DiscussionList';\nimport HeaderPrimary from 'flarum/forum/components/HeaderPrimary';\nimport HeaderSecondary from 'flarum/forum/components/HeaderSecondary';\n\nimport CustomDiscussionRow from './components/CustomDiscussionRow';\nimport DiscussionListHeader from './components/DiscussionListHeader';\nimport HeroSection from './components/HeroSection';\nimport BackButton from './components/BackButton';\nimport Logo from './components/Logo';\nimport CustomDiscussionTabNavigation from './components/CustomDiscussionTabNavigation';\n\napp.initializers.add('vietvan-ca-themes', () => {\n  // Utility function to find element by class path\n  const findElementByPath = (vnode, path) => {\n    let current = vnode;\n    \n    for (const className of path) {\n      if (!current?.children || !Array.isArray(current.children)) {\n        return null;\n      }\n      \n      const found = current.children.find(child => \n        child?.attrs?.className?.includes(className)\n      );\n      \n      if (!found) return null;\n      current = found;\n    }\n    \n    return current;\n  };\n\n  // Check for register button visibility using document events\n  const checkRegisterButtonVisibility = () => {\n    try {\n      if (app.forum?.attribute) {\n        const showRegisterButton = app.forum.attribute('vietvan_ca_show_register_button') === '1';\n\n        if (!showRegisterButton) {\n          const registerButton = document.querySelector('.item-signUp');\n          registerButton?.remove();\n        }\n      }\n    } catch (error) {\n      console.error('Error checking register button visibility:', error);\n    }\n  };\n\n  // Check for custom logo, if it exists, remove the default logo\n  const checkCustomLogo = () => {\n    try {\n      const lightLogoPath = app.forum.attribute('vietvan_ca_logoUrl');\n      const darkLogoPath = app.forum.attribute('vietvan_ca_logo_darkUrl');\n\n      if (lightLogoPath || darkLogoPath) {\n        const defaultLogo = document.querySelector('.Header-title');\n        defaultLogo?.remove();\n      }\n    } catch (error) {\n      console.error('Error checking custom logo:', error);\n    }\n  };\n\n  // Run all component checks\n  const runComponentChecks = () => {\n    checkRegisterButtonVisibility();\n    checkCustomLogo();\n  };\n\n  // Initialize component checks\n  const initializeChecks = () => {\n    if (document.readyState === 'complete' || document.readyState === 'interactive') {\n      setTimeout(runComponentChecks, 100);\n    } else {\n      document.addEventListener('DOMContentLoaded', () => {\n        setTimeout(runComponentChecks, 100);\n      });\n    }\n\n    // Run when route changes\n    app.history.initialized?.then(() => {\n      app.history.router.on('changed', runComponentChecks);\n    });\n  };\n\n  // Initialize checks\n  initializeChecks();\n\n  // Extend the HeaderPrimary component to replace the logo with a custom one\n  extend(HeaderPrimary.prototype, 'items', function (items) {\n    const lightLogoPath = app.forum.attribute('vietvan_ca_logoUrl');\n    const darkLogoPath = app.forum.attribute('vietvan_ca_logo_darkUrl');\n\n    if (lightLogoPath || darkLogoPath) {\n      items.add('logo', <Logo />, 90);\n    }\n  });\n\n  // Extend the HeaderPrimary component to add a custom button, for now it is disabled\n  // extend(HeaderPrimary.prototype, 'items', function (items) {\n  //   items.add('back-button', <BackButton />, 90);\n  // });\n\n  // Extend the HeaderSecondary component to remove the search component\n  extend(HeaderSecondary.prototype, 'items', function(items) {\n    if (items.has('search')) {\n      items.remove('search');\n    }\n  });\n\n  // Extend the DiscussionListItem component to use the custom row\n  extend(DiscussionListItem.prototype, 'view', function (vnode) {\n    vnode.children = [\n      m(CustomDiscussionRow, {\n        discussion: this.attrs.discussion,\n      }),\n    ];\n  });\n\n  // Extend the DiscussionList component to add a header\n  extend(DiscussionList.prototype, 'view', function (vnode) {\n    const originalChildren = vnode.children;\n    vnode.children = [m('ul.DiscussionList', [m(DiscussionListHeader), ...originalChildren])];\n  });\n\n  // Extend the IndexPage component to add a hero section and custom tabs\n  extend(IndexPage.prototype, 'view', function (vnode) {\n    // Add HeroSection at the beginning\n    const heroSectionInstance = m(HeroSection);\n    const originalChildren = vnode.children;\n    vnode.children = [heroSectionInstance, ...originalChildren];\n\n    // Create custom tabs instance\n    const customTabsInstance = <CustomDiscussionTabNavigation />;\n\n    // Find toolbar using optimized path traversal\n    const toolbarPath = ['container', 'sideNavContainer', 'IndexPage-results', 'IndexPage-toolbar', 'IndexPage-toolbar-view'];\n    const toolbarDiv = findElementByPath({ children: originalChildren }, toolbarPath);\n\n    if (toolbarDiv) {\n      // Replace toolbar content with custom tabs\n      toolbarDiv.children = [customTabsInstance];\n    } else {\n      console.warn('IndexPage-toolbar-view not found. CustomTabNavigation not added.');\n    }\n\n    // Run component checks after render\n    setTimeout(runComponentChecks, 100);\n  });\n\n  // Adding scale font size feature\n  let currentScale = 1.05;\n\n  // Apply initial font zoom\n  applyFontZoom(currentScale);\n});\n\nfunction applyFontZoom(scale) {\n  // Remove existing font zoom styles\n  const existingStyle = document.getElementById('font-zoom-style');\n  if (existingStyle) {\n    existingStyle.remove();\n  }\n\n  // Create new style element\n  const style = document.createElement('style');\n  style.id = 'font-zoom-style';\n  \n  // Apply zoom to various elements\n  style.textContent = `\n    .App {\n      font-size: ${scale}rem !important;\n    }\n    \n    /* Ensure consistent scaling across all text elements */\n    .Post-body,\n    .PostPreview-body,\n    .UserCard-info,\n    .NotificationGrid-content,\n    .Dropdown-menu,\n    .Modal-body,\n    .Form-group label,\n    .Form-group input,\n    .Form-group textarea,\n    .TagLabel,\n    .Badge {\n      font-size: ${scale}em !important;\n    }\n    \n    /* Scale headings proportionally */\n    h1 { font-size: ${scale * 2}rem !important; }\n    h2 { font-size: ${scale * 1.5}rem !important; }\n    h3 { font-size: ${scale * 1.25}rem !important; }\n    h4 { font-size: ${scale * 1.125}rem !important; }\n    h5 { font-size: ${scale * 1}rem !important; }\n    h6 { font-size: ${scale * 0.875}rem !important; }\n    \n    /* Scale code blocks */\n    code,\n    pre {\n      font-size: ${scale * 0.875}em !important;\n    }\n  `;\n  \n  document.head.appendChild(style);\n  \n  // Store for guests as mitigate if improved\n  localStorage.setItem('flarum-font-zoom-scale', scale.toString());\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","TopicColumn","_Component","apply","arguments","view","discussion","this","attrs","firstPost","tags","isSticky","isLocked","m","icon","Link","href","app","title","map","tag","className","color","style","backgroundColor","name","attribute","contentPlain","Component","ReplyColumn","_discussion$replyCoun","replyCount","ViewColumn","viewCount","getColorClass","index","colorClasses","length","ActivityColumn","lastPostedAt","timeSince","date","dateObj","Date","isNaN","getTime","diffTime","diffDays","Math","floor","diffHours","diffMinutes","getTimeSince","LastUsersColumn","latestPosters","slice","user","i","username","userName","avatarUrl","avatar_url","src","alt","charAt","toUpperCase","renderUserAvatar","CustomDiscussionRow","DiscussionListHeader","trans","HeroSection","_proto","oninit","vnode","_forum$attribute","_forum$attribute2","forum","enabled","session","mode","preferences","fofNightMode","_document$cookie$spli","cookieValue","document","cookie","split","find","row","startsWith","window","matchMedia","matches","extensions","setupNightModeListener","locale","translator","getLocale","titleKey","descKey","description","showText","hasCustomColor","titleStyle","descriptionStyle","titleColor","subtitleColor","_this","addEventListener","event","detail","redraw","getBackgroundStyle","bgAttr","bgUrl","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","height","undefined","currentPath","location","pathname","backgroundStyle","Search","state","search","Logo","_app$session$user","logoAttr","logoUrl","customUrl","CustomDiscussionTabNavigation","_app$search$params","currentSort","params","sort","tabs","label","sortParam","default","tab","isActive","routeName","isFilter","q","includes","filterParam","LinkButton","onclick","navigateTo","newPath","route","set","add","_app$history$initiali","runComponentChecks","_app$forum","registerButton","querySelector","remove","error","console","checkRegisterButtonVisibility","lightLogoPath","darkLogoPath","defaultLogo","checkCustomLogo","readyState","setTimeout","initialized","then","router","on","extend","HeaderPrimary","items","HeaderSecondary","has","DiscussionListItem","children","DiscussionList","originalChildren","concat","IndexPage","heroSectionInstance","customTabsInstance","toolbarDiv","_ret","_step","current","_loop","_current","value","Array","isArray","v","found","child","_child$attrs","_iterator","_createForOfIteratorHelperLoose","done","findElementByPath","warn","scale","existingStyle","getElementById","createElement","id","textContent","head","appendChild","localStorage","setItem","toString","applyFontZoom"],"sourceRoot":""}