(()=>{var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var o=t.n(e);const n=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/IndexPage"];var i=t.n(r);const a=flarum.core.compat["forum/components/DiscussionListItem"];var s=t.n(a);const l=flarum.core.compat["forum/components/DiscussionList"];var c=t.n(l);const u=flarum.core.compat["forum/components/HeaderPrimary"];var d=t.n(u);const h=flarum.core.compat["forum/components/HeaderSecondary"];var f=t.n(h);function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e)}const g=flarum.core.compat["common/Component"];var b=t.n(g);const y=flarum.core.compat["common/components/Link"];var w=t.n(y);const M=flarum.core.compat["common/helpers/icon"];var C=t.n(M),N=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t=this.attrs.discussion,e=t.firstPost(),n=t.tags()||[],r=t.isSticky(),i=t.isLocked();return m("div.discussion-topic",[m("div.discussion-badges",[r?m("span.Badge.Badge--sticky",[C()("fas fa-thumbtack")]):null,i?m("span.Badge.Badge--locked",[C()("fas fa-lock")]):null]),m("div.discussion-title",[m(w(),{href:o().route.discussion(t)},t.title())]),m("div.discussion-tags",[n.map((function(t){return m("span.discussion-tag",{className:t.color()?"colored":"",style:t.color()?{backgroundColor:t.color()}:{}},t.name())}))]),!1!==o().forum.attribute("custom-discussion-list.enable_excerpts")?m("div.discussion-excerpt",(null==e?void 0:e.contentPlain())||""):null])},e}(b()),k=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t,e=null!=(t=this.attrs.discussion.replyCount())?t:0;return m("div.discussion-reply",[m("span",e)])},e}(b()),S=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t=this.attrs.discussion.attribute("views")||0;return m("div.discussion-view",[m("span",t)])},e}(b());function D(t){var e=["color-1","color-2","color-3","color-4","color-5"];return e[t%e.length]}var _=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t=this.attrs.discussion.lastPostedAt(),e=t?function(t){if(!t)return"-";var e="string"==typeof t?new Date(t):t;if(isNaN(e.getTime()))return"-";var o=new Date-e;if(o<0)return"-";var n=Math.floor(o/864e5),r=Math.floor(o%864e5/36e5),i=Math.floor(o%36e5/6e4);return n>=30?Math.floor(n/30)+"mo":n>0?n+"d":r>0?r+"h":i>0?i+"m":"now"}(new Date(t)):"";return m("div.discussion-activity",[m("span",e)])},e}(b()),T=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t=this.attrs.discussion.attribute("latestPosters")||[];return m("div.discussion-users",[m("div.active-users",t.slice(0,5).map((function(t,e){return function(t,e){if(!t)return null;var o,n=t.username||"",r=t.avatar_url;return r?m("span.user-avatar",{title:n},m("img.avatar-image",{src:r,alt:n})):m("span.user-avatar",{title:n},m("span.user-initial",{className:D(e)},(o=n)?o.charAt(0).toUpperCase():""))}(t,e)})))])},e}(b()),x=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){var t=this.attrs.discussion;return m(w(),{className:"discussion-row",href:o().route.discussion(t)},[m(N,{discussion:t}),m(T,{discussion:t}),m(k,{discussion:t}),m(S,{discussion:t}),m(_,{discussion:t})])},e}(b()),L=function(t){function e(){return t.apply(this,arguments)||this}return v(e,t),e.prototype.view=function(){return m("li",{className:"CustomDiscussionList-header"},m("div",{className:"DiscussionListItem-info topic"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.topic")),m("div",{className:"DiscussionListItem-info replies"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.replies")),m("div",{className:"DiscussionListItem-info views"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.views")),m("div",{className:"DiscussionListItem-info activity"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.activity")))},e}(b());const E=flarum.core.compat["forum/components/Search"];var P=t.n(E);const I=flarum.core.compat["forum/components/DiscussionComposer"];var B=t.n(I);const q=flarum.core.compat["forum/components/LogInModal"];var O=t.n(q);const A=flarum.core.compat["common/components/LinkButton"];var z=t.n(A);const U=flarum.core.compat["common/utils/ItemList"];var H=t.n(U);flarum.core.compat["common/components/Button"];const R=flarum.core.compat["common/components/SelectDropdown"];var F=t.n(R);const j=flarum.core.compat["common/helpers/listItems"];var W=t.n(j),V=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var n=e.prototype;return n.view=function(){var t=this;return m("div",{className:"CustomMobileDiscussionToolbar"},m("div",{className:"CustomMobileDiscussionToolbar-left"},m("span",{className:"CustomMobileDiscussionToolbar-date"},this.currentDate),F().component({buttonClassName:"Button Button--text",className:"all-discussion-select"},this.getNavigationItems().toArray())),m("button",{class:"Button Button--primary CustomMobileDiscussionToolbar-button",type:"button","aria-label":"Start Discussion",onclick:function(){return t.newDiscussionAction()}},m("i",{"aria-hidden":"true",class:"icon fas fa-edit Button-icon"}),m("span",{class:"Button-label"},o().translator.trans("core.forum.index.start_discussion_button"))))},n.getNavigationItems=function(){var t=new(H());t.add("all-discussions",z().component({href:o().route("index"),icon:"fas fa-comments"},o().translator.trans("core.forum.index.all_discussions_link")),100),t.add("tags",z().component({href:o().route("tags"),icon:"fas fa-th-large"},o().translator.trans("flarum-tags.forum.index.tags_link")),90);var e=o().store.all("tags");return e&&e.length>0&&e.filter((function(t){var e=t.parent&&t.parent(),o=t.position();return!e&&null!=o})).sort((function(t,e){return t.position()-e.position()})).forEach((function(e,n){t.add("tag-"+e.id(),z().component({href:o().route("tag",{tags:e.slug()}),icon:"fas fa-circle",style:e.color()?{color:e.color()}:{}},e.name()),80-n)})),t},n.newDiscussionAction=function(){return new Promise((function(t,e){return o().session.user?(o().composer.load(B(),{user:o().session.user}),o().composer.show(),t(o().composer)):(o().modal.show(O()),e())}))},e}(b()),G=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var o=e.prototype;return o.oninit=function(e){var o,n,r=this;t.prototype.oninit.call(this,e);var i=app.forum;if(this.enabled="1"===i.attribute("vietvan_ca_hero_enabled"),this.enabled){this.mode="light",flarum.extensions["fof-nightmode"]&&this.setupNightModeListener(),this.setupSystemModeListener(),this.setupBodyClassObserver(),setTimeout((function(){r.mode=r.computeMode(),m.redraw()}),100),setTimeout((function(){var t=r.computeMode();t!==r.mode&&(r.mode=t,m.redraw())}),500),this.locale=app.translator.getLocale()||"en";var a="vietvan_ca_hero_title_"+this.locale,s="vietvan_ca_hero_description_"+this.locale;if(this.title=null!=(o=i.attribute(a))?o:app.translator.trans("vietvan-ca-flarum-themes.forum.hero.title"),this.description=null!=(n=i.attribute(s))?n:app.translator.trans("vietvan-ca-flarum-themes.forum.hero.description"),this.showText="1"===i.attribute("vietvan_ca_hero_show_text"),this.hasCustomColor="1"===i.attribute("vietvan_ca_hero_custom_color_enabled"),this.titleStyle={},this.descriptionStyle={},this.hasCustomColor){var l=i.attribute("vietvan_ca_hero_title_color")||"#ffffff",c=i.attribute("vietvan_ca_hero_subtitle_color")||"#ffffff";this.titleStyle={color:l},this.descriptionStyle={color:c}}}},o.computeMode=function(){var t;if(document.body.classList.contains("flarum--night"))return"dark";var e=app.session.user;if(e){var o=null==e.preferences?void 0:e.preferences().fofNightMode;return 2===o||"2"===o?"dark":1===o||"1"===o||0!==o&&"0"!==o&&null!=o||0!==o&&"0"!==o||!window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark"}var n=null==(t=document.cookie.split("; ").find((function(t){return t.startsWith("flarum_nightmode=")})))?void 0:t.split("=")[1];return"2"===n?"dark":"1"===n?"light":"0"===n&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},o.setupNightModeListener=function(){var t=this;this.nightModeHandler=function(e){t.mode="day"===e.detail?"light":"dark",m.redraw()},document.addEventListener("fofnightmodechange",this.nightModeHandler)},o.setupSystemModeListener=function(){var t=this,e=window.matchMedia("(prefers-color-scheme: dark)");this.systemModeHandler=function(e){var o=t.computeMode();o!==t.mode&&(t.mode=o,m.redraw())},e.addEventListener("change",this.systemModeHandler)},o.setupBodyClassObserver=function(){var t=this;this.bodyObserver=new MutationObserver((function(){var e=t.computeMode();e!==t.mode&&(t.mode=e,m.redraw())})),this.bodyObserver.observe(document.body,{attributes:!0,attributeFilter:["class"]})},o.onremove=function(){this.nightModeHandler&&document.removeEventListener("fofnightmodechange",this.nightModeHandler),this.systemModeHandler&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",this.systemModeHandler),this.bodyObserver&&this.bodyObserver.disconnect()},o.getBackgroundStyle=function(){var t=app.forum,e="dark"===this.mode?"vietvan_ca_hero_background_image_darkUrl":"vietvan_ca_hero_background_imageUrl",o=t.attribute(e);return o?{height:"35vh",backgroundImage:"url("+o+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}:void 0},o.view=function(){if(!this.enabled)return null;var t=window.location.pathname;if("/"!==t&&""!==t)return null;var e=this.getBackgroundStyle();return m("div",{className:"HeroSection",style:e},this.showText&&m("div",{className:"container"},m("h1",{className:"HeroSection-title",style:this.titleStyle},this.title),m("p",{className:"HeroSection-subtitle",style:this.descriptionStyle},this.description)),m("div",{className:"container"},m(P(),{state:app.search})))},e}(b()),Q=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var n=e.prototype;return n.oninit=function(e){var n;t.prototype.oninit.call(this,e),this.mode=2===(null==(n=o().session.user)||null==n.preferences?void 0:n.preferences().fofNightMode)?"dark":"light",flarum.extensions["fof-nightmode"]&&this.setupNightModeListener()},n.setupNightModeListener=function(){var t=this;document.addEventListener("fofnightmodechange",(function(e){t.mode="day"===e.detail?"light":"dark",m.redraw()}))},n.view=function(t){var e="dark"===this.mode?"vietvan_ca_logo_darkUrl":"vietvan_ca_logoUrl",n=o().forum.attribute(e);if(!n)return null;var r=o().forum.attribute("vietvan_ca_back_button_custom_url")||o().route("index"),i=t.attrs.imageStyle||{};return m("a",{href:r,className:"Header-logo CustomHeaderLogo"},m("img",{src:n,alt:"VietVan CA",style:i}))},e}(b()),$=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var n=e.prototype;return n.view=function(){var t,e=this,n=null==(t=o().search.params())?void 0:t.sort,r=[{key:"latest",label:o().translator.trans("core.forum.index_sort.latest_button"),sortParam:"",default:!0},{key:"top",label:o().translator.trans("core.forum.index_sort.top_button"),sortParam:"top"},{key:"newest",label:o().translator.trans("core.forum.index_sort.newest_button"),sortParam:"newest"},{key:"oldest",label:o().translator.trans("core.forum.index_sort.oldest_button"),sortParam:"oldest"}];return m("div",{className:"CustomDiscussionTabNavigation"},r.map((function(t){var r;return r=t.routeName?o().current.matches(t.routeName):t.isFilter?o().search.params.q&&o().search.params.q.includes(t.filterParam):n===t.sortParam||!n&&t.default,m(z(),{className:"SortItem Button Button--link "+(r?"active":""),onclick:function(){return e.navigateTo(t)}},t.label)})))},n.navigateTo=function(t){var e=m.route.get().split("?")[0];t.default||(e+="?sort="+t.sortParam),m.route.set(e)},e}(b());function K(t,e){var n=o().translator.trans("vietvan-ca-flarum-themes.forum.mobile_drawer."+t);return n&&n!=="vietvan-ca-flarum-themes.forum.mobile_drawer."+t?n:e}var X=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.isDrawerOpen=!1,this.handleClickOutside=this.handleClickOutside.bind(this)},n.oncreate=function(e){t.prototype.oncreate.call(this,e),document.addEventListener("click",this.handleClickOutside)},n.onremove=function(e){t.prototype.onremove.call(this,e),document.removeEventListener("click",this.handleClickOutside)},n.view=function(){var t=this;return m("div",null,m("button",{className:"CustomMobileDrawer-toggleBtn",onclick:function(){return t.toggleDrawer()}},m("i",{className:this.isDrawerOpen?"fas fa-times":"fas fa-bars"})),m("div",{className:"CustomMobileDrawer"},m("div",{className:"CustomMobileDrawer-logo"},m(Q,{imageStyle:{height:"40px"}})),m("nav",{className:"CustomMobileDrawer-nav"},m("ul",{className:"CustomMobileDrawer-menu"},W()(this.menuItems().toArray()))),m("div",{className:"CustomMobileDrawer-separator"}),m("div",{className:"CustomMobileDrawer-auth"},o().session.user?this.loggedInSection():this.guestSection())))},n.menuItems=function(){var t=new(H()),e=o().forum.attribute("vietvan_ca_back_button_custom_url")||o().forum.attribute("baseUrl").replace("/forum","");t.add("home",m("li",{className:"CustomMobileDrawer-menuItem"},m("a",{href:e,className:"CustomMobileDrawer-link"},K("home","Trang Chủ"))),100),t.add("forum",m("li",{className:"CustomMobileDrawer-menuItem active"},m("a",{href:o().forum.attribute("baseUrl"),className:"CustomMobileDrawer-link"},K("forum","Diễn Đàn"))),90);var n=this.findTagBySlug("luu-y")||this.findTagBySlug("guidelines");return n&&t.add("guidelines",m("li",{className:"CustomMobileDrawer-menuItem"},m("a",{href:o().route("tag",{tags:n.slug()}),className:"CustomMobileDrawer-link"},K("guidelines","Lưu ý"))),80),t.add("language",m("li",{className:"CustomMobileDrawer-menuItem CustomMobileDrawer-menuItem--dropdown"},this.languageDropdown()),70),t.add("theme",m("li",{className:"CustomMobileDrawer-menuItem CustomMobileDrawer-menuItem--dropdown"},this.themeToggle()),60),t},n.findTagBySlug=function(t){return o().store&&o().store.all?o().store.all("tags").find((function(e){return e.slug()===t})):null},n.languageDropdown=function(){var t=this,e=o().data.locales||{},n=o().data.locale||"en";return Object.keys(e).length<=1?m("div",{className:"CustomMobileDrawer-languageDisplay"},m("span",{className:"CustomMobileDrawer-link"},this.getLocaleName(n),m("i",{className:"fas fa-globe CustomMobileDrawer-icon"}))):m("div",{className:"CustomMobileDrawer-dropdown"},m("button",{className:"CustomMobileDrawer-link CustomMobileDrawer-dropdownTrigger",onclick:function(e){return t.toggleDropdown(e,"language")}},this.getLocaleName(n),m("i",{className:"fas fa-chevron-down CustomMobileDrawer-chevron"})),m("ul",{className:"CustomMobileDrawer-dropdownMenu",id:"language-dropdown"},Object.keys(e).map((function(o){return m("li",{key:o},m("a",{href:"javascript:void(0)",onclick:function(){return t.changeLocale(o)},className:n===o?"active":""},e[o]))}))))},n.getLocaleName=function(t){var e;return{en:"English",vi:"Tiếng Việt"}[t]||(null==(e=o().data.locales)?void 0:e[t])||t},n.changeLocale=function(t){o().session.user?o().session.user.savePreferences({locale:t}).then((function(){window.location.reload()})):(document.cookie="locale="+t+";path=/;max-age=31536000",window.location.reload())},n.themeToggle=function(){var t=this;return m("button",{className:"CustomMobileDrawer-link",onclick:function(){return t.toggleTheme()}},m("i",{className:"fas fa-cog CustomMobileDrawer-icon--left"}),K("appearance","Giao Diện"))},n.toggleTheme=function(){var t=document.querySelector(".item-nightMode button, .NightMode-toggle");if(t)t.click();else{document.body.classList.toggle("dark");var e=document.body.classList.contains("dark");localStorage.setItem("fofNightMode",e?"dark":"light")}},n.toggleDropdown=function(t,e){t.preventDefault(),t.stopPropagation();var o=document.getElementById(e+"-dropdown");o&&o.classList.toggle("open")},n.guestSection=function(){var t=this,e=o().forum.attribute("vietvan_ca_back_button_custom_url")||"",n=e?e.replace("/forum","").replace(/\/$/,""):"";return m("div",{className:"CustomMobileDrawer-guest"},m("a",{href:n+"/auth/register",className:"Button Button--primary CustomMobileDrawer-registerBtn"},K("register","Đăng ký")),m("button",{className:"Button Button--secondary CustomMobileDrawer-loginBtn",onclick:function(){return t.showLoginModal()}},K("login","Đăng nhập")),m("div",{className:"CustomMobileDrawer-socialSeparator"},m("span",null,K("or","Hoặc:"))),m("div",{className:"CustomMobileDrawer-socialButtons"},m("button",{className:"Button CustomMobileDrawer-socialBtn CustomMobileDrawer-socialBtn--facebook",onclick:function(){return t.socialLogin("facebook")}},m("i",{className:"fab fa-facebook CustomMobileDrawer-socialIcon"}),K("login_facebook","Đăng nhập bằng Facebook")),m("button",{className:"Button CustomMobileDrawer-socialBtn CustomMobileDrawer-socialBtn--google",onclick:function(){return t.socialLogin("google")}},m("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"CustomMobileDrawer-socialIcon CustomMobileDrawer-socialIcon--img"}),K("login_google","Đăng nhập bằng Google"))))},n.socialLogin=function(t){var e=o().forum.attribute("jwt-sso.backendApiUrl")||"https://api.vietvan.ca";if(!e)return console.error("Backend API URL not configured for social login"),void alert("Social login is not properly configured. Please contact the administrator.");var n=document.querySelector(".vietvan-mobile-drawer");n&&(n.style.right="-100%",document.body.classList.remove("vietvan-drawer-open"),this.isDrawerOpen=!1,m.redraw());var r=this.generateRandomString(32),i=e+"/api/flarum-auth/"+t+"?return_url="+encodeURIComponent(window.location.origin+"/auth/sso/callback")+"&state="+r;console.log("Starting dual-platform OAuth flow:",i);var a=window.open(i,t+"_login","width=500,height=600,scrollbars=yes,resizable=yes,left="+(screen.width/2-250)+",top="+(screen.height/2-300));a?a.focus():alert("Popup bị chặn. Vui lòng cho phép popup và thử lại.")},n.loggedInSection=function(){var t=this,e=o().session.user,n=o().forum.attribute("vietvan_ca_back_button_custom_url")||"",r=n?n.replace("/forum","").replace(/\/$/,""):"";return m("div",{className:"CustomMobileDrawer-user"},m("div",{className:"CustomMobileDrawer-userIdentity"},m("div",{className:"CustomMobileDrawer-avatar CustomMobileDrawer-avatar--default"},e.avatarUrl()?m("img",{src:e.avatarUrl(),alt:e.displayName()}):m("i",{className:"fas fa-user"})),m("div",{className:"CustomMobileDrawer-userName"},m("span",{className:"CustomMobileDrawer-displayName"},e.displayName()),m("a",{href:o().route("settings"),className:"CustomMobileDrawer-accountSettingsBtn"},K("account_settings","Cài đặt tài khoản")))),m("ul",{className:"CustomMobileDrawer-userMenu"},m("li",null,m("a",{href:r+"/manage-listings/posts/create",className:"CustomMobileDrawer-link"},m("i",{className:"fas fa-edit CustomMobileDrawer-icon--left"}),K("create_post","Đăng tin"))),m("li",null,m("a",{href:r+"/manage-listings",className:"CustomMobileDrawer-link"},m("i",{className:"fas fa-list-alt CustomMobileDrawer-icon--left"}),K("manage_posts","Quản lý tin đăng"))),m("li",null,m("a",{href:r+"/contact",className:"CustomMobileDrawer-link"},m("i",{className:"fas fa-envelope CustomMobileDrawer-icon--left"}),K("contact","Liên Hệ"))),m("li",null,m("button",{className:"CustomMobileDrawer-link CustomMobileDrawer-logout",onclick:function(){return t.logout()}},m("i",{className:"fas fa-sign-out-alt CustomMobileDrawer-icon--left"}),K("logout","Đăng xuất")))))},n.handleClickOutside=function(t){if(this.isDrawerOpen){var e=document.querySelector(".CustomMobileDrawer, .vietvan-mobile-drawer"),o=document.querySelector(".CustomMobileDrawer-toggleBtn");e&&o&&!e.contains(t.target)&&!o.contains(t.target)&&this.toggleDrawer()}},n.toggleDrawer=function(){var t=document.querySelector(".vietvan-mobile-drawer");if(t){var e="0px"===t.style.right;t.style.right=e?"-100%":"0px",document.body.classList.toggle("vietvan-drawer-open",!e),this.isDrawerOpen=!e,console.log("Drawer toggled:",!e),m.redraw()}},n.showLoginModal=function(){var t=document.querySelector(".vietvan-mobile-drawer");t&&(t.style.right="-100%",document.body.classList.remove("vietvan-drawer-open"),this.isDrawerOpen=!1,m.redraw());var e=document.querySelector(".Header-controls .item-logIn button, .HeaderSecondary .item-logIn button, .item-logIn .Button");e?(console.log("Triggering default Flarum login (SSO compatible)"),e.click()):(console.log("No SSO button found, showing login modal"),o().modal.show(O()))},n.logout=function(){var t=K("logout_confirm","Bạn có chắc chắn muốn đăng xuất?");confirm(t)&&o().session.logout()},n.generateRandomString=function(t){for(var e="",o=0;o<t;o++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e},e}(b());const J=flarum.core.compat["common/components/TextEditor"];var Y=t.n(J),Z=function(t){function e(){return t.apply(this,arguments)||this}v(e,t);var n=e.prototype;return n.oninit=function(n){t.prototype.oninit.call(this,n),this.title="",this.composer=o().composer,this.selectedTag="",this.isSubmitting=!1,this.editor=null,this.mode=e.pendingMode||"create",this.discussion=e.pendingDiscussion||null,this.replyingTo=e.pendingReplyingTo||null,console.log("Modal initialized with mode:",this.mode,"discussion:",this.discussion)},n.view=function(){var t,e,o=this;return window.innerWidth>768?null:m("div",{className:"CustomMobileCreateModal visible "+("reply"===this.mode?"reply-mode":"create-mode")+" "+(document.body.classList.contains("dark")?"dark":"")},m("div",{className:"CustomMobileCreateModal-header"},m("h2",null,"reply"===this.mode?this.replyingTo?"Trả lời "+((null==(t=this.replyingTo.user())?void 0:t.displayName())||"người dùng"):this.discussion?"Trả lời: "+this.discussion.title():"Viết phản hồi":"Tạo chủ đề mới"),m("button",{className:"close-btn",onclick:function(){return o.hide()},type:"button"},m("i",{className:"fas fa-times"}))),m("div",{className:"CustomMobileCreateModal-content"},"create"===this.mode?m("[",null,m("div",{className:"form-group"},m("label",null,"Chọn chủ đề (tùy chọn):"),m("select",{value:this.selectedTag,onchange:function(t){o.selectedTag=t.target.value}},m("option",{value:""},"-- Chọn chủ đề --"),this.getTagOptions())),m("div",{className:"form-group"},m("label",null,"Tiêu đề:"),m("input",{type:"text",placeholder:"Nhập tiêu đề bài viết...",value:this.title,oninput:function(t){o.title=t.target.value}})),m("div",{className:"form-group"},m("label",null,"Nội dung (tùy chọn):"),m("div",{className:"CustomMobileCreateModal-editor"},Y().component({placeholder:"Viết nội dung bài viết (không bắt buộc)...",onchange:function(t){o.editor=t,m.redraw()},onsubmit:function(){return o.submit()},value:this.editor||""})))):m("div",{className:"CustomMobileCreateModal-replyBox"},this.replyingTo&&m("div",{className:"CustomMobileCreateModal-replyingTo"},m("i",{className:"fas fa-reply"}),m("span",null,"Đang trả lời ",m("strong",null,(null==(e=this.replyingTo.user())?void 0:e.displayName())||"người dùng"))),Y().component({placeholder:"Viết phản hồi của bạn...",onchange:function(t){o.editor=t,console.log("Editor value changed:",t),m.redraw()},onsubmit:function(){return o.submit()},value:this.editor||""}))),m("div",{className:"CustomMobileCreateModal-footer"},m("button",{className:"submit-btn",onclick:function(){return o.submit()},disabled:this.isSubmitting||!this.canSubmit(),type:"button"},this.isSubmitting?"Đang đăng...":"Đăng")))},n.getTagOptions=function(){return o().store.all("tags").filter((function(t){return!t.parent()&&t.canStartDiscussion()})).map((function(t){return m("option",{value:t.id()},t.name())}))},n.getContent=function(){return this.editor||""},n.setContent=function(t){this.editor=t},n.canSubmit=function(){if("reply"===this.mode){var t=this.editor&&"string"==typeof this.editor&&this.editor.trim().length>0,e=t&&o().session.user;return console.log("Reply canSubmit check:",{hasContent:t,editor:this.editor,canSubmit:e}),e}return this.title.trim()&&o().session.user&&o().forum.attribute("canStartDiscussion")},n.hide=function(){var t=document.querySelector("#mobile-create-modal-container");t&&(m.mount(t,null),t.remove()),document.body.classList.remove("mobile-create-modal-open"),e.pendingMode="create",e.pendingDiscussion=null,e.pendingReplyingTo=null;var o=document.querySelector("#composer");o&&(o.style.display="")},n.submit=function(){this.canSubmit()&&!this.isSubmitting&&(this.isSubmitting=!0,m.redraw(),"reply"===this.mode?this.submitReply():this.submitDiscussion())},n.submitDiscussion=function(){var t=this,e=this.getContent().trim()||" ",n={data:{type:"discussions",attributes:{title:this.title,content:e}}};this.selectedTag&&(n.data.relationships={tags:{data:[{type:"tags",id:this.selectedTag}]}}),o().request({method:"POST",url:o().forum.attribute("apiUrl")+"/discussions",body:n}).then((function(e){var n=o().store.pushPayload(e);window.location.href=o().route.discussion(n),t.hide()})).catch((function(t){console.error("Failed to create discussion:",t);var e="Có lỗi xảy ra khi đăng bài";t&&t.errors&&t.errors.length>0&&(e=t.errors[0].detail||e),o().alerts?o().alerts.show({type:"error"},e):alert(e)})).finally((function(){t.isSubmitting=!1,m.redraw()}))},n.submitReply=function(){var t,e=this;if(this.discussion){var n=this.getContent().trim();console.log("Submitting reply with content:",n,"to discussion:",this.discussion.id(),"replying to post:",null==(t=this.replyingTo)?void 0:t.id());var r={data:{type:"posts",attributes:{content:n},relationships:{discussion:{data:{type:"discussions",id:this.discussion.id()}}}}};this.replyingTo&&this.replyingTo.id()&&(r.data.relationships.replyTo={data:{type:"posts",id:this.replyingTo.id()}},console.log("Added replyTo relationship for post:",this.replyingTo.id())),console.log("API request data:",r),o().request({method:"POST",url:o().forum.attribute("apiUrl")+"/posts",body:r}).then((function(t){console.log("Reply submitted successfully:",t);var n=o().store.pushPayload(t);e.discussion&&(e.discussion.freshness=new Date,e.discussion.lastPostedAt=new Date,e.discussion.lastPostedUser=o().session.user,e.discussion.data&&(e.discussion.data.attributes.lastPostedAt=new Date)),m.redraw(),e.hide(),setTimeout((function(){var t=document.querySelector('[data-id="'+n.id()+'"]');t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100)})).catch((function(t){console.error("Failed to create reply:",t);var e="Có lỗi xảy ra khi đăng phản hồi";t&&t.errors&&t.errors.length>0&&(e=t.errors[0].detail||e),o().alerts?o().alerts.show({type:"error"},e):alert(e)})).finally((function(){e.isSubmitting=!1,m.redraw()}))}else console.error("No discussion found for reply")},e.show=function(t,n,r){if(void 0===t&&(t="create"),void 0===n&&(n=null),void 0===r&&(r=null),!(window.innerWidth>768))if(o().session.user)if("create"!==t||o().forum.attribute("canStartDiscussion")){e.pendingMode=t,e.pendingDiscussion=n,e.pendingReplyingTo=r,console.log("Setting modal mode to:",t,"with discussion:",n);var i=document.querySelector("#composer");i&&(i.style.display="none");var a=document.querySelector("#mobile-create-modal-container");a?m.mount(a,null):((a=document.createElement("div")).id="mobile-create-modal-container",document.body.appendChild(a)),m.mount(a,e),document.body.classList.add("mobile-create-modal-open"),m.redraw()}else o().alerts&&o().alerts.show({type:"error"},"Bạn không có quyền tạo chủ đề mới");else o().modal.show(O())},e.hide=function(){var t=document.querySelector("#mobile-create-modal-container");t&&(m.mount(t,null),t.remove()),document.body.classList.remove("mobile-create-modal-open"),e.pendingMode="create",e.pendingDiscussion=null,e.pendingReplyingTo=null},e}(b());Z.pendingMode="create",Z.pendingDiscussion=null,Z.pendingReplyingTo=null;var tt=function(){function t(){}return t.init=function(){this.interceptCreateTopicButtons()},t.interceptCreateTopicButtons=function(){document.addEventListener("click",(function(t){var e,n,r,i;if(!(window.innerWidth>768)){var a=t.target.closest("button, a, .Button");if(a){var s=[".CustomMobileDiscussionToolbar-button",".item-newDiscussion",".IndexPage-newDiscussion",'.Button--primary[aria-label*="Start"]','[title*="discussion"]','[data-original-title*="discussion"]'].some((function(t){return a.matches(t)}))||a.querySelector(".fa-edit, .fa-plus, .fa-pen")||a.textContent.includes("Start")||a.textContent.includes("discussion")||a.textContent.includes("Tạo")||a.textContent.includes("Viết")||(null==(e=a.getAttribute("aria-label"))?void 0:e.includes("Start"))||(null==(n=a.getAttribute("aria-label"))?void 0:n.includes("discussion")),l=[".item-reply",".Button--reply",'[title*="reply"]','[title*="Reply"]','[data-original-title*="reply"]','[data-original-title*="Reply"]'].some((function(t){return a.matches(t)}))||a.querySelector(".fa-reply")||a.textContent.includes("Reply")||a.textContent.includes("Trả lời")||(null==(r=a.getAttribute("aria-label"))?void 0:r.includes("Reply"))||(null==(i=a.getAttribute("aria-label"))?void 0:i.includes("reply"));if(s)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),setTimeout((function(){var t=document.querySelector("#composer");t&&(t.style.display="none")}),50),console.log("Intercepted create topic click on mobile"),Z.show("create"),!1;if(l){var c,u,m;t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var d=(null==(c=o().current)||null==(c=c.data)?void 0:c.discussion)||(null==(u=o().discussions)?void 0:u.current());if(!d)return void console.error("Could not find current discussion for reply");var h=null,f=a.closest(".Post, [data-id]");if(f){var p=f.getAttribute("data-id");p&&(h=o().store.getById("posts",p),console.log("Found post being replied to:",p,h))}return setTimeout((function(){var t=document.querySelector("#composer");t&&(t.style.display="none")}),50),console.log("Intercepted reply click on mobile, replying to post:",null==(m=h)?void 0:m.id()),Z.show("reply",d,h),!1}}}}),!0),new MutationObserver((function(t){window.innerWidth<=768&&t.forEach((function(t){t.addedNodes.forEach((function(t){t.nodeType===Node.ELEMENT_NODE&&("composer"===t.id||t.querySelector("#composer"))&&(console.log("Hiding default composer on mobile"),("composer"===t.id?t:t.querySelector("#composer")).style.display="none")}))}))})).observe(document.body,{childList:!0,subtree:!0}),console.log("Create topic and reply button interception initialized")},t}(),et=function(){function t(){this.observers=new Map,this.isProcessing=!1}var e=t.prototype;return e.cleanup=function(){if(!this.isProcessing){this.isProcessing=!0;try{this.hideByAttributes(),this.hideByPosition(),this.hideRichTextToggle()}catch(t){console.warn("PageManager: Error during cleanup:",t)}finally{this.isProcessing=!1}}},e.hideByAttributes=function(){var t=this,e=document.querySelector(".TextEditor-toolbar");e&&['button[data-hotkey="Ctrl+K"]','button[title*="Link"]','div[data-tooltip*="Link"]','button[data-hotkey="Ctrl+>"]','button[title*="Quote"]','div[data-tooltip*="Quote"]','button[data-hotkey="Ctrl+`"]','button[title*="Code"]','div[data-tooltip*="Code"]'].forEach((function(o){e.querySelectorAll(o).forEach((function(e){return t.hideElement(e)}))}))},e.hideByPosition=function(){var t=this;[".TextEditor-toolbar > div > button:nth-child(4)",".TextEditor-toolbar > div > button:nth-child(5)",".TextEditor-toolbar > div > div:nth-child(1)",".TextEditor-toolbar > div > div:nth-child(6)",".TextEditor-toolbar > div > div:nth-child(7)",".TextEditor-toolbar > div > div:nth-child(10)"].forEach((function(e){document.querySelectorAll(e).forEach((function(e){return t.hideElement(e)}))}))},e.hideRichTextToggle=function(){var t=this;document.querySelectorAll(".item-rich-text").forEach((function(e){return t.hideElement(e)}))},e.hideElement=function(t){t&&!t.dataset.vietvanHidden&&(t.dataset.vietvanHidden="true",t.style.setProperty("display","none","important"),t.style.setProperty("visibility","hidden","important"),t.style.setProperty("opacity","0","important"),t.style.setProperty("pointer-events","none","important"),t.style.setProperty("height","0","important"),t.style.setProperty("width","0","important"),t.style.setProperty("overflow","hidden","important"),t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.classList.add("vietvan-hidden"),t.setAttribute("aria-hidden","true"),t.setAttribute("hidden",""))},e.startObserving=function(){var t=this,e=function(){var e=document.querySelector("#composer");if(e&&!t.observers.has("composer")){var o=new MutationObserver((function(e){var o=!1;e.forEach((function(t){"childList"===t.type?t.addedNodes.forEach((function(t){t.nodeType===Node.ELEMENT_NODE&&(null!=t.matches&&t.matches(".TextEditor-toolbar")||null!=t.querySelector&&t.querySelector(".TextEditor-toolbar"))&&(o=!0)})):"attributes"===t.type&&null!=t.target.matches&&t.target.matches(".TextEditor-toolbar *")&&(o=!0)})),o&&setTimeout((function(){return t.cleanup()}),50)}));o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","data-hotkey","title"]}),t.observers.set("composer",o)}};e(),function(){if(!t.observers.has("body")){var o=new MutationObserver((function(o){var n=!1;o.forEach((function(t){"childList"===t.type&&t.addedNodes.forEach((function(t){t.nodeType===Node.ELEMENT_NODE&&(null!=t.matches&&t.matches("#composer")||null!=t.querySelector&&t.querySelector("#composer"))&&(setTimeout(e,50),n=!0)}))})),n&&setTimeout((function(){return t.cleanup()}),100)}));o.observe(document.body,{childList:!0,subtree:!0}),t.observers.set("body",o)}}()},e.stopObserving=function(){this.observers.forEach((function(t){return t.disconnect()})),this.observers.clear()},e.initialize=function(){var t=this;this.cleanup(),this.startObserving(),setInterval((function(){document.querySelector(".TextEditor-toolbar")&&t.cleanup()}),3e4)},t}();function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}o().initializers.add("vietvan-ca-themes",(function(){var t=new et;t.initialize(),setTimeout((function(){try{tt.init()}catch(t){console.error("CustomMobileComposer initialization error:",t)}}),1e3);var e,r=function(){if(!(window.innerWidth>768||document.querySelector(".vietvan-mobile-drawer"))){console.log("Creating simple mobile drawer");var t=document.createElement("div");t.className="vietvan-mobile-drawer",t.id="vietvan-mobile-drawer",t.style.cssText="\n      position: fixed;\n      top: 0;\n      right: -100%;\n      width: 280px;\n      height: 100vh;\n      background: white;\n      z-index: 1050;\n      transition: right 0.3s ease;\n      box-shadow: -2px 0 10px rgba(0,0,0,0.1);\n      overflow-y: auto;\n    ";try{m.mount(t,X),console.log("CustomMobileDrawer mounted successfully")}catch(t){return void console.error("Error mounting CustomMobileDrawer:",t)}document.body.appendChild(t),console.log("Mobile drawer added to body");var e=function(){var e=document.querySelector('.App-drawerToggle, .Button--icon[aria-label*="menu"], .Header-controls .Button--icon');e&&window.innerWidth<=768&&(console.log("Found hamburger button, adding mobile integration"),e.addEventListener("click",(function(e){window.innerWidth<=768&&setTimeout((function(){var e=document.querySelector("#drawer, .App-drawer");e&&e.classList.contains("in")&&(e.classList.remove("in"),e.style.transform="translateX(-100%)",t.style.right="0px",document.body.classList.add("vietvan-drawer-open"),console.log("Switched from default to custom drawer"))}),50)})))};setTimeout(e,500),setTimeout(e,1e3),console.log("Simple mobile drawer created successfully")}},a=function(){var t;window.innerWidth<=768?r():(t=document.querySelector(".vietvan-mobile-drawer"))&&(console.log("Removing mobile drawer for desktop"),m.mount(t,null),t.remove(),document.body.classList.remove("vietvan-drawer-open"))};setTimeout((function(){window.innerWidth<=768&&r()}),1e3),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout(a,250)}));var l,u=function(){document.querySelectorAll(".item-hide button .fa-trash-alt").forEach((function(t){t.classList.contains("fa-trash-alt")&&(t.classList.remove("fa-trash-alt"),t.classList.add("fa-eye"))})),document.querySelectorAll(".item-hidden .fas.fa-trash, .Badge--hidden .fas.fa-trash").forEach((function(t){t.classList.contains("fa-trash")&&(t.classList.remove("fa-trash"),t.classList.add("fa-eye"))}))};setTimeout(u,500),null!=(l=o().history)&&l.initialized&&o().history.initialized.then((function(){o().history.router.on("changed",(function(){setTimeout(u,500)}))})),setInterval(u,2e3),setTimeout((function(){o().session.user&&(null==o().session.user.preferences().fofNightMode&&o().session.user.savePreferences({fofNightMode:!1}).catch((function(){})));var t=document.body,e=document.documentElement;"true"===localStorage.getItem("fof-nightmode")||"true"===localStorage.getItem("darkMode")||[t,e].forEach((function(t){t&&["dark","dark-mode","fof-nightmode"].forEach((function(e){t.classList.remove(e)}))}))}),100);var h,p=function(){document.querySelectorAll(".discussion-tag.colored").forEach((function(t){return v(t,"backgroundColor")})),document.querySelectorAll('.Button--tagColored, .Button--primary[style*="--color"]').forEach((function(t){var e=t.style.getPropertyValue("--color");e&&v(t,"customColor",e)}))},v=function(t,e,o){var n,r,i,a;if(void 0===o&&(o=null),(n="customColor"===e&&o?o:window.getComputedStyle(t).backgroundColor).startsWith("#")){var s=n.replace("#","");if(3===s.length)r=parseInt(s.substr(0,1)+s.substr(0,1),16),i=parseInt(s.substr(1,1)+s.substr(1,1),16),a=parseInt(s.substr(2,1)+s.substr(2,1),16);else{if(6!==s.length)return;r=parseInt(s.substr(0,2),16),i=parseInt(s.substr(2,2),16),a=parseInt(s.substr(4,2),16)}}else{var l=n.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!l)return;var c=l.map(Number);r=c[1],i=c[2],a=c[3]}var u=(.299*r+.587*i+.114*a)/255,m=Math.sqrt(.241*r*r+.691*i*i+.068*a*a)/255,d=(r+i+a)/765,h=Math.max(r,i,a)/255,f=Math.min(r,i,a)/255,p=0===h?0:(h-f)/h,v=(Math.max(u,.05)+.05)/.1,g=1.05/(Math.max(u,.05)+.05),b=p>.8&&u>.7?.6:p>.4?.75:.65,y=u>b&&m>b-.1&&d>b-.15&&v>g;t.style.setProperty("color",y?"#000000":"#ffffff","important");var w=y?"0 0 1px rgba(255, 255, 255, 0.6)":"0 0 1px rgba(0, 0, 0, 0.8)";t.style.setProperty("text-shadow",w,"important"),"customColor"===e&&o&&(t.style.setProperty("background-color",o,"important"),t.classList.remove("text-contrast--dark","text-contrast--light"))};setTimeout(p,200),null!=(h=o().history)&&h.initialized&&o().history.initialized.then((function(){o().history.router.on("changed",(function(){setTimeout(p,200)}))})),setInterval(p,3e3),new MutationObserver((function(){setTimeout(p,100)})).observe(document.body,{childList:!0,subtree:!0}),setTimeout((function(){new MutationObserver((function(e){var o=!1;e.forEach((function(t){t.addedNodes.forEach((function(t){t.nodeType===Node.ELEMENT_NODE&&(null!=t.matches&&t.matches(".TextEditor")||null!=t.querySelector&&t.querySelector(".TextEditor")||null!=t.matches&&t.matches(".TextEditor-toolbar")||null!=t.querySelector&&t.querySelector(".TextEditor-toolbar"))&&(o=!0)}))})),o&&setTimeout((function(){t.cleanup()}),100)})).observe(document.body,{childList:!0,subtree:!0})}),1e3);var g,b=function(){!function(){try{var t;if(null!=(t=o().forum)&&t.attribute&&"1"!==o().forum.attribute("vietvan_ca_show_register_button")){var e=document.querySelector(".item-signUp");null==e||e.remove()}}catch(t){console.error("Error checking register button visibility:",t)}}(),function(){try{var t=o().forum.attribute("vietvan_ca_logoUrl"),e=o().forum.attribute("vietvan_ca_logo_darkUrl");if(t||e){var n=document.querySelector(".Header-title");null==n||n.remove()}}catch(t){console.error("Error checking custom logo:",t)}}()};"complete"===document.readyState||"interactive"===document.readyState?setTimeout(b,100):document.addEventListener("DOMContentLoaded",(function(){setTimeout(b,100)})),null==(g=o().history.initialized)||g.then((function(){o().history.router.on("changed",b)})),(0,n.extend)(d().prototype,"items",(function(t){var e=o().forum.attribute("vietvan_ca_logoUrl"),n=o().forum.attribute("vietvan_ca_logo_darkUrl");(e||n)&&t.add("logo",m(Q,null),90)})),(0,n.extend)(f().prototype,"items",(function(t){t.has("search")&&t.remove("search")})),(0,n.extend)(s().prototype,"view",(function(t){t.children=[m(x,{discussion:this.attrs.discussion})]})),(0,n.extend)(c().prototype,"view",(function(t){var e=t.children;t.children=[m("ul.DiscussionList",[m(L)].concat(e))]})),(0,n.extend)(i().prototype,"view",(function(t){var e=m(G),o=t.children;t.children=[e].concat(o);var n=m(V,null),r=m($,null),i=function(t){for(var e,o,n=t,r=function(){var t,e=o.value;if(null==(t=n)||!t.children||!Array.isArray(n.children))return{v:null};var r=n.children.find((function(t){var o;return null==t||null==(o=t.attrs)||null==(o=o.className)?void 0:o.includes(e)}));if(!r)return{v:null};n=r},i=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return ot(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(["container","sideNavContainer","IndexPage-results","IndexPage-toolbar","IndexPage-toolbar-view"]);!(o=i()).done;)if(e=r())return e.v;return n}({children:o});i?i.children=[n,r]:console.warn("IndexPage-toolbar-view not found. CustomTabNavigation not added."),setTimeout(b,100)})),(0,n.extend)(i().prototype,"oncreate",(function(){var t=o().forum.attribute("vietvan_ca_logoUrl"),e=o().forum.attribute("vietvan_ca_logo_darkUrl");(t||e)&&this.addMobileLogo()})),(0,n.extend)(i().prototype,"onupdate",(function(){var t=o().forum.attribute("vietvan_ca_logoUrl"),e=o().forum.attribute("vietvan_ca_logo_darkUrl");(t||e)&&this.addMobileLogo()})),i().prototype.addMobileLogo=function(){var t=document.getElementById("app-navigation");if(t&&!t.querySelector(".Navigation-logo")){var e=document.createElement("div");e.className="Navigation-logo Mobile-only",m.mount(e,{view:function(){return m(Q,{imageStyle:{height:"30px"}})}});var o=t.querySelector(".App-backControl");o?t.insertBefore(e,o):t.insertBefore(e,t.firstChild)}},(0,n.extend)(i().prototype,"onremove",(function(){var t=document.getElementById("app-navigation"),e=null==t?void 0:t.querySelector(".Navigation-logo");e&&(m.mount(e,null),e.remove())})),function(t){var e=document.getElementById("font-zoom-style");e&&e.remove();var o=document.createElement("style");o.id="font-zoom-style",o.textContent="\n    .App {\n      font-size: 1.05rem !important;\n    }\n    \n    /* Ensure consistent scaling across all text elements */\n    .Post-body,\n    .PostPreview-body,\n    .UserCard-info,\n    .NotificationGrid-content,\n    .Dropdown-menu,\n    .Modal-body,\n    .Form-group label,\n    .Form-group input,\n    .Form-group textarea,\n    .TagLabel,\n    .Badge {\n      font-size: 1.05em !important;\n    }\n    \n    /* Scale headings proportionally */\n    h1 { font-size: 2.1rem !important; }\n    h2 { font-size: "+1.5*t+"rem !important; }\n    h3 { font-size: 1.3125rem !important; }\n    h4 { font-size: "+1.125*t+"rem !important; }\n    h5 { font-size: 1.05rem !important; }\n    h6 { font-size: "+.875*t+"rem !important; }\n    \n    /* Scale code blocks */\n    code,\n    pre {\n      font-size: "+.875*t+"em !important;\n    }\n  ",document.head.appendChild(o),localStorage.setItem("flarum-font-zoom-scale",t.toString())}(1.05)}))})(),module.exports={}})();