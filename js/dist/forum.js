(()=>{var t={n:s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return t.d(o,{a:o}),o},d:(s,o)=>{for(var n in o)t.o(o,n)&&!t.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:o[n]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s)};(()=>{"use strict";const s=flarum.core.compat["forum/app"];var o=t.n(s);const n=flarum.core.compat["common/extend"],i=flarum.core.compat["forum/components/IndexPage"];var e=t.n(i);const r=flarum.core.compat["forum/components/DiscussionListItem"];var a=t.n(r);const c=flarum.core.compat["forum/components/DiscussionList"];var u=t.n(c);function l(t,s){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},l(t,s)}function p(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,l(t,s)}const d=flarum.core.compat["common/Component"];var f=t.n(d);const v=flarum.core.compat["common/components/Link"];var h=t.n(v);const y=flarum.core.compat["common/helpers/icon"];var w=t.n(y),b=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){var t=this.attrs.discussion,s=t.firstPost(),n=t.tags()||[],i=t.isSticky(),e=t.isLocked();return m("div.discussion-topic",[m("div.discussion-badges",[i?m("span.Badge.Badge--sticky",[w()("fas fa-thumbtack")]):null,e?m("span.Badge.Badge--locked",[w()("fas fa-lock")]):null]),m("div.discussion-title",[m(h(),{href:o().route.discussion(t)},t.title())]),m("div.discussion-tags",[n.map((function(t){return m("span.discussion-tag",{className:t.color()?"colored":"",style:t.color()?{backgroundColor:t.color()}:{}},t.name())}))]),!1!==o().forum.attribute("custom-discussion-list.enable_excerpts")?m("div.discussion-excerpt",(null==s?void 0:s.contentPlain())||""):null])},s}(f()),g=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){var t,s=null!=(t=this.attrs.discussion.replyCount())?t:0;return m("div.discussion-reply",[m("span",s)])},s}(f()),N=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){var t=this.attrs.discussion.attribute("views")||0;return m("div.discussion-view",[m("span",t)])},s}(f());function D(t){var s=["color-1","color-2","color-3","color-4","color-5"];return s[t%s.length]}var L=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){var t,s,o,n,i=this.attrs.discussion,e=i.lastPostedAt(),r=e?(t=new Date(e),s=new Date,o=Math.abs(s-t),(n=Math.ceil(o/864e5))<1?Math.floor(o/36e5)+"h":n<30?n+"d":Math.floor(n/30)+"mo"):"",a=i.attribute("latestPosters")||[];return m("div.discussion-work",[m("div.time-since",r),m("div.active-users",a.slice(0,5).map((function(t,s){return function(t,s){if(!t)return null;var o,n=t.username||"",i=t.avatar_url;return i?m("span.user-avatar",{title:n},m("img.avatar-image",{src:i,alt:n})):m("span.user-avatar",{title:n},m("span.user-initial",{className:D(s)},(o=n)?o.charAt(0).toUpperCase():""))}(t,s)})))])},s}(f()),k=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){var t=this.attrs.discussion;return m(h(),{className:"discussion-row",href:o().route.discussion(t)},[m(b,{discussion:t}),m(g,{discussion:t}),m(N,{discussion:t}),m(L,{discussion:t})])},s}(f()),P=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){return m("li",{className:"CustomDiscussionList-header"},m("div",{className:"DiscussionListItem-info topic"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.topic")),m("div",{className:"DiscussionListItem-info replies"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.replies")),m("div",{className:"DiscussionListItem-info views"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.views")),m("div",{className:"DiscussionListItem-info activity"},o().translator.trans("vietvan-ca-flarum-themes.forum.custom-discussion-header.activity")))},s}(f()),x=function(t){function s(){return t.apply(this,arguments)||this}return p(s,t),s.prototype.view=function(){return m("div",{className:"HeroSection"},m("div",{className:"container"},m("h1",{className:"HeroSection-title"}," ",app.translator.trans("vietvan-ca-flarum-themes.forum.hero.title")),m("p",{className:"HeroSection-subtitle"},app.translator.trans("vietvan-ca-flarum-themes.forum.hero.description"))))},s}(f());o().initializers.add("flarum-themes",(function(){(0,n.extend)(a().prototype,"view",(function(t){t.children=[m(k,{discussion:this.attrs.discussion})]})),(0,n.extend)(u().prototype,"view",(function(t){var s=t.children;t.children=[m("ul.DiscussionList",[m(P)].concat(s))]})),(0,n.extend)(e().prototype,"view",(function(t){var s=m(x),o=t.children;t.children=[s].concat(o)}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map