{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@vietvan-ca/flarum-themes/webpack/bootstrap","webpack://@vietvan-ca/flarum-themes/webpack/runtime/compat get default export","webpack://@vietvan-ca/flarum-themes/webpack/runtime/define property getters","webpack://@vietvan-ca/flarum-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['admin/app']\"","webpack://@vietvan-ca/flarum-themes/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@vietvan-ca/flarum-themes/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@vietvan-ca/flarum-themes/./src/admin/components/ThemeSettingsPage.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/Component']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/components/Link']\"","webpack://@vietvan-ca/flarum-themes/./src/admin/components/Logo.js","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['common/extend']\"","webpack://@vietvan-ca/flarum-themes/external root \"flarum.core.compat['admin/components/HeaderPrimary']\"","webpack://@vietvan-ca/flarum-themes/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/UploadImageButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/admin/app';\r\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\r\nimport UploadImageButton from 'flarum/admin/components/UploadImageButton';\r\nimport Switch from 'flarum/common/components/Switch';\r\n\r\nconst locales = ['en', 'vi'];\r\n\r\nexport default class ThemeSettingsPage extends ExtensionPage {\r\n  content() {\r\n    // Get the current status of the hero banner toggle\r\n    const isHeroBannerEnabled = this.setting('vietvan-ca-themes.hero_banner_enabled')() === '1';\r\n    const isTextVisible = this.setting('vietvan-ca-themes.show_hero_text')() === '1';\r\n\r\n    return (\r\n      <div className=\"ThemeSettingsPage\">\r\n        <div className=\"container ThemeSettingsPage-container\">\r\n          <h2 className=\"ThemeSettingsPage-title\">{app.translator.trans('vietvan-ca-flarum-themes.admin.settings.title')}</h2>\r\n\r\n          <div className=\"Form ThemeSettingsPage-form\">\r\n            <div className=\"ThemeSettingsPage-section\">\r\n              <h3>{app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.title')}</h3>\r\n\r\n              {/* Toggle for enabling/disabling the Hero Banner */}\r\n              <div className=\"Form-group\">\r\n                <Switch\r\n                  state={isHeroBannerEnabled}\r\n                  onchange={(value) => {\r\n                    this.setting('vietvan-ca-themes.hero_banner_enabled')(value ? '1' : '0');\r\n                  }}\r\n                >\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.enable-banner-label') || 'Enable Hero Banner'}\r\n                </Switch>\r\n                <div className=\"helpText\">\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.enable-banner-help') ||\r\n                    'Toggle this option to enable or disable the hero banner section.'}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Show the hero banner configuration only if the banner is enabled */}\r\n              {isHeroBannerEnabled && (\r\n                <div className=\"ThemeSettingsPage-heroConfig\">\r\n                  {/* Light Hero Banner */}\r\n                  <div className=\"Form-group ThemeSettingsPage-imageUpload\">\r\n                    <label>\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.background-image-label') || 'Hero Background Image'}\r\n                    </label>\r\n                    <div className=\"ThemeSettingsPage-imageContainer\">\r\n                      <UploadImageButton name=\"vietvan_ca_hero_background_image\" className=\"ThemeSettingsPage-uploadButton\" />\r\n                    </div>\r\n                    <div className=\"helpText\">\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.background-image-help') ||\r\n                        'Upload an image to be displayed as the hero section background.'}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Dark Hero Banner */}\r\n                  <div className=\"Form-group ThemeSettingsPage-imageUpload\">\r\n                    <label>\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.background-image-dark-label') || 'Hero Background Image'}\r\n                    </label>\r\n                    <div className=\"ThemeSettingsPage-imageContainer\">\r\n                      <UploadImageButton name=\"vietvan_ca_hero_background_image_dark\" className=\"ThemeSettingsPage-uploadButton\" />\r\n                    </div>\r\n                    <div className=\"helpText\">\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.background-image-dark-help') ||\r\n                        'Upload an image to be displayed as the hero section background.'}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Toggle for showing/hiding title and description when banner image exists */}\r\n                  <div className=\"Form-group\">\r\n                    <Switch\r\n                      state={isTextVisible}\r\n                      onchange={(value) => {\r\n                        this.setting('vietvan-ca-themes.show_hero_text')(value ? '1' : '0');\r\n                      }}\r\n                    >\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.show-text-label') || 'Show Title and Description on Banner'}\r\n                    </Switch>\r\n                    <div className=\"helpText\">\r\n                      {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.hero.show-text-help') ||\r\n                        'When enabled, the title and description will be displayed on top of the banner image.'}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"ThemeSettingsPage-grid\">\r\n                    {locales.map((code) => (\r\n                      <div className=\"Form-group ThemeSettingsPage-formGroup\" key={code}>\r\n                        <label>{app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.title-${code}-label`)}</label>\r\n                        <input className=\"FormControl\" type=\"text\" bidi={this.setting(`vietvan-ca-themes.hero_title_${code}`)} />\r\n                        <div className=\"helpText\">\r\n                          {app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.global-placeholder`)}\r\n                          {app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.title-${code}-default`)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n\r\n                    {locales.map((code) => (\r\n                      <div className=\"Form-group ThemeSettingsPage-formGroup\" key={`desc-${code}`}>\r\n                        <label>{app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.description-${code}-label`)}</label>\r\n                        <textarea\r\n                          className=\"FormControl ThemeSettingsPage-textarea\"\r\n                          bidi={this.setting(`vietvan-ca-themes.hero_description_${code}`)}\r\n                        />\r\n                        <div className=\"helpText\">\r\n                          {app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.global-placeholder`)}\r\n                          {app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.hero.description-${code}-default`)}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* New section for Header setting */}\r\n            <div className=\"ThemeSettingsPage-section\">\r\n              <h3>{app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.header.title`)}</h3>\r\n\r\n              <div className=\"Form-group\">\r\n                <Switch\r\n                  state={this.setting('vietvan-ca-themes.show_register_button')() === '1'}\r\n                  onchange={(value) => {\r\n                    this.setting('vietvan-ca-themes.show_register_button')(value ? '1' : '0');\r\n                  }}\r\n                >\r\n                  {app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.header.show-register-button-label`)}\r\n                </Switch>\r\n                <div className=\"helpText\">{app.translator.trans(`vietvan-ca-flarum-themes.admin.settings.header.show-register-button-help`)}</div>\r\n              </div>\r\n\r\n              <div className=\"Form-group\">\r\n                <label>\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.header.back-button-url-label')}\r\n                </label>\r\n                <input\r\n                  className=\"FormControl\"\r\n                  type=\"text\"\r\n                  bidi={this.setting('vietvan-ca-themes.back_button_custom_url')}\r\n                  placeholder={app.translator.trans('vietvan-ca-flarum-themes.admin.settings.header.back-button-url-placeholder')}\r\n                />\r\n                <div className=\"helpText\">\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.header.back-button-url-help')}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* New Section for Logo Settings */}\r\n            <div className=\"ThemeSettingsPage-section\">\r\n              <h3>{app.translator.trans('vietvan-ca-flarum-themes.admin.settings.logo.title')}</h3>\r\n\r\n              <div className=\"Form-group ThemeSettingsPage-imageUpload\">\r\n                <label>\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.logo.logo-light-label')}\r\n                </label>\r\n                <div className=\"ThemeSettingsPage-imageContainer\">\r\n                  {/* Flarum saves this as 'vietvan-ca-themes.logo_light_path_setting' if name is 'logo_light_path_setting' */}\r\n                  <UploadImageButton name=\"vietvan_ca_logo\" />\r\n                </div>\r\n                <div className=\"helpText\">\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.logo.logo-light-help')}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"Form-group ThemeSettingsPage-imageUpload\">\r\n                <label>\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.logo.logo-dark-label')}\r\n                </label>\r\n                <div className=\"ThemeSettingsPage-imageContainer\">\r\n                  <UploadImageButton name=\"vietvan_ca_logo_dark\" />\r\n                </div>\r\n                <div className=\"helpText\">\r\n                  {app.translator.trans('vietvan-ca-flarum-themes.admin.settings.logo.logo-dark-help')}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n            <div className=\"ThemeSettingsPage-footer\">{this.submitButton()}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Link from 'flarum/common/components/Link';\r\n\r\nexport default class Logo extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n  }\r\n\r\n  view() {\r\n    let logoUrl = app.forum.attribute('vietvan_ca_logoUrl');\r\n    const darkLogoUrl = app.forum.attribute('vietvan_ca_logo_darkUrl');\r\n\r\n    const isAdminDark = document.documentElement.classList.contains('dark') || document.body.classList.contains('dark');\r\n    if (isAdminDark && darkLogoUrl) {\r\n      logoUrl = darkLogoUrl;\r\n    }\r\n\r\n    if (!logoUrl && darkLogoUrl) {\r\n      logoUrl = darkLogoUrl;\r\n    }\r\n\r\n    if (!logoUrl) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Link href={app.route('dashboard')} className=\"Header-logo CustomHeaderLogo\">\r\n        <img src={logoUrl} alt={app.forum.attribute('title') + ' Admin Logo'} />\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/HeaderPrimary'];","import app from 'flarum/admin/app';\r\nimport ThemeSettingsPage from './components/ThemeSettingsPage';\r\nimport Logo from './components/Logo';\r\nimport { extend } from 'flarum/common/extend';\r\nimport HeaderPrimary from 'flarum/admin/components/HeaderPrimary';\r\n\r\napp.initializers.add('vietvan-ca-themes', () => {\r\n  // Check for custom logo, if it exists, remove the default logo\r\n  const checkCustomLogo = () => {\r\n    try {\r\n      const lightLogoPath = app.forum.attribute('vietvan_ca_logoUrl');\r\n      const darkLogoPath = app.forum.attribute('vietvan_ca_logo_darkUrl');\r\n\r\n      if (lightLogoPath || darkLogoPath) {\r\n        // Remove the default logo\r\n        const defaultLogo = document.querySelector('.Header-title');\r\n        if (defaultLogo) {\r\n          defaultLogo.remove();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking custom logo:', error);\r\n    }\r\n  };\r\n\r\n  // Run all component checks\r\n  const runComponentChecks = () => {\r\n    checkCustomLogo();\r\n  };\r\n\r\n  // Run once when the document is ready\r\n  if (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n    setTimeout(runComponentChecks, 100);\r\n  } else {\r\n    document.addEventListener('DOMContentLoaded', () => {\r\n      setTimeout(runComponentChecks, 100);\r\n    });\r\n  }\r\n\r\n  // Also run when route changes, which is when app.forum might be ready\r\n  app.history.initialized?.then(() => {\r\n    app.history.router.on('changed', runComponentChecks);\r\n  });\r\n\r\n  // Extend the HeaderPrimary component to replace the logo with a custom one\r\n  extend(HeaderPrimary.prototype, 'items', function (items) {\r\n    const lightLogoPath = app.forum.attribute('vietvan_ca_logoUrl');\r\n    const darkLogoPath = app.forum.attribute('vietvan_ca_logo_darkUrl');\r\n\r\n    if (lightLogoPath || darkLogoPath) {\r\n      // Use the custom Logo component\r\n      items.add('logo', <Logo />, 90);\r\n    }\r\n  });\r\n\r\n  app.extensionData.for('vietvan-ca-themes')\r\n    .registerPage(ThemeSettingsPage)\r\n    .registerSetting({\r\n      setting: 'font-zoom.default-scale',\r\n      type: 'number',\r\n      label: app.translator.trans('font-zoom.admin.settings.default_scale_label'),\r\n      help: app.translator.trans('font-zoom.admin.settings.default_scale_help'),\r\n      min: 0.5,\r\n      max: 3.0,\r\n      step: 0.1\r\n    })\r\n    .registerSetting({\r\n      setting: 'font-zoom.show-quick-controls',\r\n      type: 'boolean',\r\n      label: app.translator.trans('font-zoom.admin.settings.quick_controls_label'),\r\n      help: app.translator.trans('font-zoom.admin.settings.quick_controls_help')\r\n    });\r\n});\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","locales","ThemeSettingsPage","_ExtensionPage","apply","arguments","content","_this","isHeroBannerEnabled","this","setting","isTextVisible","m","className","app","trans","Switch","state","onchange","value","UploadImageButton","name","map","code","type","bidi","placeholder","submitButton","ExtensionPage","Logo","_Component","_proto","oninit","vnode","view","logoUrl","attribute","darkLogoUrl","document","documentElement","classList","contains","body","Link","href","src","alt","Component","add","_app$history$initiali","runComponentChecks","lightLogoPath","darkLogoPath","defaultLogo","querySelector","remove","error","console","checkCustomLogo","readyState","setTimeout","addEventListener","initialized","then","router","on","extend","HeaderPrimary","items","registerPage","registerSetting","label","help","min","max","step"],"sourceRoot":""}
